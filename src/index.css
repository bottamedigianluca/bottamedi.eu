/* üåê Google Fonts - OTTIMIZZATO CON DISPLAY SWAP */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/*
================================================================================
| üéØ BASE STYLES - ENTERPRISE STABILITY & PERFORMANCE                            |
================================================================================
*/
@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* üî• FIX STABILIT√Ä: Previene problemi di overflow senza nascondere tutto */
    overflow-x: clip; 
  }

  body {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: #ffffff;
    color: #171717;
    min-height: 100vh;
    /* üî• FIX STABILIT√Ä: Assicura che il body non causi overflow */
    width: 100%; 
    position: relative;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', Georgia, serif;
    text-rendering: optimizeLegibility;
  }

  /* üîí ROOT CONTAINER */
  #root {
    min-height: 100vh;
    width: 100%;
    position: relative;
    isolation: isolate; /* Crea un nuovo contesto di stacking per prevenire bug di z-index */
  }

  /* ‚ôø ACCESSIBILIT√Ä: Focus visibile per tutti */
  :focus-visible {
    outline: 2px solid #3b82f6 !important;
    outline-offset: 2px !important;
    border-radius: 4px;
  }
}

/*
================================================================================
| üß© CUSTOM COMPONENTS - Classi riutilizzabili per i tuoi componenti React        |
================================================================================
*/
@layer components {

  /* üöÄ OTTIMIZZAZIONI PERFORMANCE PER SEZIONI */
  .section-container {
    position: relative;
    /* üî• FIX STABILIT√Ä: Dice al browser di ottimizzare il rendering di questa sezione */
    contain: layout style paint; 
    overflow: clip; /* Previene overflow interni senza nascondere elementi esterni */
  }

  /* üì± MOBILE DOCK */
  .mobile-dock {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 50; /* Z-index ragionevole */
    transform: translateZ(0); /* Promuove a layer GPU */
    backface-visibility: hidden;
    will-change: transform, opacity;
    padding-bottom: max(20px, env(safe-area-inset-bottom));
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Aggiungi qui gli altri stili per i componenti come .language-selector, .contact-card, etc.
     dalla tua versione originale o "enterprise". Ho omesso la ripetizione.
     ESEMPIO: */
  .language-selector {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 50;
  }
  
  .contact-card {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: white;
    border-radius: 1rem;
    padding: 1.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    border: 1px solid #e5e7eb;
    transition: all 300ms ease;
  }
  .contact-card:hover {
    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
  }

  /* ... altri stili dei componenti */
}


/*
================================================================================
| üîß UTILITIES - Classi di aiuto per performance e stile                        |
================================================================================
*/
@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 8px rgba(0,0,0,0.3);
  }

  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: transform;
  }

  .touch-target {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    cursor: pointer;
    user-select: none;
    min-height: 44px;
    min-width: 44px;
  }
}

/*
================================================================================
| üìú SCROLLBAR & PREFERENZE UTENTE                                               |
================================================================================
*/
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: #f1f5f9;
}
::-webkit-scrollbar-thumb {
  background: #4ade80;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #22c55e;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media print {
  .no-print {
    display: none !important;
  }
  .section-container {
    break-inside: avoid;
  }
}

/*
================================================================================
| üì± RESPONSIVE & MOBILE FIXES                                                   |
================================================================================
*/
@media (max-width: 1023px) {
  /* Fix per input su iOS per prevenire lo zoom */
  input, textarea, select {
    font-size: 16px;
  }
}

@media (max-width: 768px) {
  .contact-cards-container {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  .contact-card {
    padding: 1.25rem;
  }
}

@media (min-width: 1024px) {
  .mobile-dock {
    display: none !important;
  }
}
